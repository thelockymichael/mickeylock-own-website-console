(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{224:function(e,a,t){"use strict";t.r(a);var s=t(85),c=t.n(s),n=t(10),r=(t(96),t(2)),i=t(1),l=t(3),o=(t(97),t(98),t(20)),d=t.n(o),j={WEBSITE_API:"https://mickeylock.com",WEBSITE_ID:"6202467cbb1ab99a0e68fe23"},b=j.WEBSITE_API,m={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Methods":"GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type"},h=function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null},u=t(4),x=t(13),O=t(0),p=function(e){var a=e.history,t=Object(i.useState)(!1),s=Object(r.a)(t,2),c=s[0],n=s[1],l=Object(i.useState)(""),o=Object(r.a)(l,2),h=o[0],p=o[1],v=x.a().shape({username:x.b().required("This field is required!"),password:x.b().required("This field is required!")});return Object(O.jsx)("div",{className:"col-md-12",children:Object(O.jsxs)("div",{className:"card card-container",children:[Object(O.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(O.jsx)(u.d,{initialValues:{username:"",password:""},validationSchema:v,onSubmit:function(e){var t=e.username,s=e.password;p(""),n(!0),console.log("username",t),console.log("password",s),console.log("api url",j.WEBSITE_API),function(e,a){return d.a.post(b+"/api/login",{fullName:e,password:a},{headers:m}).then((function(e){return console.log("response",e.data),e.data.authToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}(t,s).then((function(){a.push("/dashboard"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();n(!1),p(a)}))},children:Object(O.jsxs)(u.c,{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)(u.b,{name:"username",type:"text",className:"form-control"}),Object(O.jsx)(u.a,{name:"username",component:"div",className:"alert alert-danger"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)(u.b,{name:"password",type:"password",className:"form-control"}),Object(O.jsx)(u.a,{name:"password",component:"div",className:"alert alert-danger"})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:c,children:[c&&Object(O.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(O.jsx)("span",{children:"Login"})]})}),h&&Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("div",{className:"alert alert-danger",role:"alert",children:h})})]})})]})})},v=t(16),f=t.n(v),N=t(25),g=j.WEBSITE_API,T=function(){var e=Object(N.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.a.get(g+"/api/website"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.useState)(!1),a=Object(r.a)(e,2),t=a[0],s=a[1],c=Object(i.useState)(""),n=Object(r.a)(c,2),l=n[0],o=n[1],b=Object(i.useState)({name:"",descText:""}),m=Object(r.a)(b,2),h=m[0],p=m[1],v=x.a().shape({name:x.b().required("This field is required!"),descText:x.b().required("This field is required!")});return Object(i.useEffect)((function(){var e=function(){var e=Object(N.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:a=e.sent,t=a.data,console.log("data",t.name),console.log("data",t.descText),p({name:t.name,descText:t.descText});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsxs)("nav",{id:"sidebar",children:[Object(O.jsx)("div",{className:"sidebar-header",children:Object(O.jsx)("h3",{children:"Mickeylock.com"})}),Object(O.jsxs)("ul",{className:"list-unstyled components",children:[Object(O.jsx)("li",{className:"active",children:Object(O.jsx)("a",{href:"/dashboard",children:"Dashboard"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/home",children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/about",children:"About"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/projects",children:"Projects"})})]})]}),Object(O.jsx)("div",{id:"content",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("header",{className:"jumbotron",children:Object(O.jsx)("h3",{children:"Home Edit"})}),Object(O.jsx)(u.d,{enableReinitialize:!0,initialValues:h,validationSchema:v,onSubmit:function(e){var a=e.name,t=e.descText;console.log("sendForm",a,t),o(""),s(!0),function(e,a){return d.a.put(g+"/api/website/"+j.WEBSITE_ID,{name:e,descText:a}).then((function(e){return console.log("response",e.data),e.data}))}(a,t).then((function(){}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();s(!1),o(a)}))},children:Object(O.jsxs)(u.c,{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"fullName",children:"Full name"}),Object(O.jsx)(u.b,{name:"name",type:"text",className:"form-control"}),Object(O.jsx)(u.a,{name:"name",component:"div",className:"alert alert-danger"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"descText",children:"Description text"}),Object(O.jsx)(u.b,{name:"descText",type:"descText",className:"form-control"}),Object(O.jsx)(u.a,{name:"descText",component:"div",className:"alert alert-danger"})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t,children:[t&&Object(O.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(O.jsx)("span",{children:"Save"})]})}),l&&Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("div",{className:"alert alert-danger",role:"alert",children:l})})]})})]})})]})},k=function(){var e=Object(i.useState)(!1),a=Object(r.a)(e,2),t=a[0],s=a[1],c=Object(i.useState)(""),n=Object(r.a)(c,2),l=n[0],o=n[1],b=Object(i.useState)({aboutText:"",profileImage:""}),m=Object(r.a)(b,2),h=m[0],p=m[1],v=x.a().shape({aboutText:x.b().required("This field is required!"),profileImage:x.b().required("This field is required!")});return Object(i.useEffect)((function(){var e=function(){var e=Object(N.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:a=e.sent,t=a.data,console.log("data",t.aboutText),console.log("data",t.profileImage),p({aboutText:t.aboutText,profileImage:t.profileImage});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsxs)("nav",{id:"sidebar",children:[Object(O.jsx)("div",{className:"sidebar-header",children:Object(O.jsx)("h3",{children:"Mickeylock.com"})}),Object(O.jsxs)("ul",{className:"list-unstyled components",children:[Object(O.jsx)("li",{className:"active",children:Object(O.jsx)("a",{href:"/dashboard",children:"Dashboard"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/home",children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/about",children:"About"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/projects",children:"Projects"})})]})]}),Object(O.jsx)("div",{id:"content",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("header",{className:"jumbotron",children:Object(O.jsx)("h3",{children:"About Edit"})}),Object(O.jsx)(u.d,{enableReinitialize:!0,initialValues:h,validationSchema:v,onSubmit:function(e){var a=e.aboutText,t=e.profileImage;console.log("sendForm",a,t),o(""),s(!0),function(e,a){return d.a.put(g+"/api/website/"+j.WEBSITE_ID,{aboutText:e,profileImage:a}).then((function(e){return console.log("response",e.data),e.data}))}(a,t).then((function(){window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();s(!1),o(a)}))},children:Object(O.jsxs)(u.c,{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"aboutText",children:"About text"}),Object(O.jsx)(u.b,{name:"aboutText",type:"text",className:"form-control"}),Object(O.jsx)(u.a,{name:"aboutText",component:"div",className:"alert alert-danger"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"profileImage",children:"Profile URL"}),Object(O.jsx)(u.b,{name:"profileImage",type:"profileImage",className:"form-control"}),Object(O.jsx)(u.a,{name:"profileImage",component:"div",className:"alert alert-danger"})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:t,children:[t&&Object(O.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(O.jsx)("span",{children:"Save"})]})}),l&&Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("div",{className:"alert alert-danger",role:"alert",children:l})})]})})]})})]})},w=function(){var e=Object(i.useState)(""),a=Object(r.a)(e,2),t=a[0];a[1];return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("header",{className:"jumbotron",children:Object(O.jsx)("h3",{children:t})})})},I=function(){var e=h();return Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsxs)("nav",{id:"sidebar",children:[Object(O.jsx)("div",{className:"sidebar-header",children:Object(O.jsx)("h3",{children:"Mickeylock.com"})}),Object(O.jsxs)("ul",{className:"list-unstyled components",children:[Object(O.jsx)("li",{className:"active",children:Object(O.jsx)("a",{href:"/dashboard",children:"Dashboard"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/home",children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/about",children:"About"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/dashboard/projects",children:"Projects"})})]})]}),Object(O.jsx)("div",{id:"content",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("header",{className:"jumbotron",children:Object(O.jsxs)("h3",{children:[Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.user.fullName})," Dashboard"]})}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Token:"})," ",null===e||void 0===e?void 0:e.authToken.substring(0,20)," ","..."," ",null===e||void 0===e?void 0:e.authToken.substr(e.authToken.length-20)]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Id:"})," ",null===e||void 0===e?void 0:e.user._id]}),Object(O.jsx)("p",{}),Object(O.jsx)("strong",{children:"Authorities:"})]})})]})},y={on:function(e,a){document.addEventListener(e,(function(e){return a(e)}))},dispatch:function(e,a){document.dispatchEvent(new CustomEvent(e,{detail:a}))},remove:function(e,a){document.removeEventListener(e,a)}},E=function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("header",{className:"jumbotron",children:[Object(O.jsx)("h1",{children:"404 - Not Found!"}),Object(O.jsx)(n.b,{to:"/",children:"Go Home"})]})})},A=function(){var e=Object(i.useState)(!1),a=Object(r.a)(e,2),t=a[0],s=a[1],c=Object(i.useState)(!1),o=Object(r.a)(c,2),d=o[0],j=o[1],b=Object(i.useState)(void 0),m=Object(r.a)(b,2),u=m[0],x=m[1];Object(i.useEffect)((function(){var e=h();return e&&x(e),y.on("logout",v),function(){y.remove("logout",v)}}),[]);var v=function(){localStorage.removeItem("user"),s(!1),j(!1),x(void 0)};return Object(O.jsxs)("div",{children:[Object(O.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(O.jsx)(n.b,{to:"/",className:"navbar-brand",children:"Mickeylock.com"}),Object(O.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(n.b,{to:"/home",className:"nav-link",children:"Home"})}),t&&Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(n.b,{to:"/mod",className:"nav-link",children:"Moderator Board"})}),d&&Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(n.b,{to:"/admin",className:"nav-link",children:"Admin Board"})}),u&&Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(n.b,{to:"/user",className:"nav-link",children:"User"})})]}),u?Object(O.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(n.b,{to:"/dashboard",className:"nav-link",children:null===u||void 0===u?void 0:u.user.fullName})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("a",{href:"/login",className:"nav-link",onClick:v,children:"LogOut"})})]}):Object(O.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(n.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(n.b,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]}),Object(O.jsx)("div",{className:"container mt-3",children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:["/","/home"],component:w}),Object(O.jsx)(l.a,{exact:!0,path:"/login",component:p}),Object(O.jsx)(l.a,{exact:!0,path:"/dashboard",component:I}),Object(O.jsx)(l.a,{exact:!0,path:"/dashboard/home",component:S}),Object(O.jsx)(l.a,{exact:!0,path:"/dashboard/about",component:k}),Object(O.jsx)(l.a,{component:E})]})})]})};c.a.render(Object(O.jsx)(n.a,{children:Object(O.jsx)(A,{})}),document.getElementById("root"))},96:function(e,a,t){},98:function(e,a,t){}},[[224,1,2]]]);
//# sourceMappingURL=main.bced38e4.chunk.js.map