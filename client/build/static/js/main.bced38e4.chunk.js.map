{"version":3,"sources":["config/config.ts","services/auth.service.ts","components/Login.tsx","services/editWebsite.service.ts","components/HomeEdit.tsx","components/AboutEdit.tsx","components/HomePage.tsx","components/Dashboard.tsx","common/EventBus.ts","components/NotFound.tsx","App.tsx","index.tsx"],"names":["config","WEBSITE_API","process","WEBSITE_ID","API_URL","headers","getCurrentUser","userStr","localStorage","getItem","JSON","parse","Login","history","useState","loading","setLoading","message","setMessage","validationSchema","Yup","shape","username","required","password","className","src","alt","initialValues","onSubmit","formValue","console","log","axios","post","fullName","then","response","data","authToken","setItem","stringify","login","push","window","location","reload","error","resMessage","toString","htmlFor","name","type","component","disabled","role","getWebsite","a","get","Home","descText","initValues","setInitValues","useEffect","getInitValues","id","href","enableReinitialize","put","editHome","About","aboutText","profileImage","editAbout","HomePage","content","Dashboard","currentUser","user","substring","substr","length","_id","eventBus","on","event","callback","document","addEventListener","e","dispatch","dispatchEvent","CustomEvent","detail","remove","removeEventListener","NotFound","to","App","showModeratorBoard","setShowModeratorBoard","showAdminBoard","setShowAdminBoard","undefined","setCurrentUser","AuthService","EventBus","logOut","removeItem","onClick","exact","path","HomeEdit","AboutEdit","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bced38e4.chunk.js","sourcesContent":["const config = {\n  WEBSITE_API: process.env.REACT_APP_WEBSITE_URL,\n  WEBSITE_ID: process.env.REACT_APP_WEBSITE_ID,\n};\n\nexport default config;\n","import axios from \"axios\";\nimport config from \"../config/config\";\nimport ICurrentUser from \"../types/currentUser.type\";\n\nconst API_URL = config.WEBSITE_API;\n\nconst headers = {\n  \"Content-Type\": \"application/json\",\n  \"Access-Control-Allow-Origin\": \"*\",\n  \"Access-Control-Allow-Credentials\": true,\n  \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\n  \"Access-Control-Allow-Headers\": \"Content-Type\",\n};\n\nexport const register = (username: string, password: string) => {\n  return axios.post(API_URL + \"signup\", {\n    fullName: username,\n    password,\n  });\n};\n\nexport const login = (username: string, password: string) => {\n  return axios\n    .post(\n      API_URL + \"/api/login\",\n      {\n        fullName: username,\n        password,\n      },\n      { headers: headers }\n    )\n    .then((response) => {\n      console.log(\"response\", response.data);\n\n      if (response.data.authToken) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n};\n\nexport const logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nexport const getCurrentUser = () => {\n  const userStr = localStorage.getItem(\"user\");\n  if (userStr) {\n    const currentUser: ICurrentUser = JSON.parse(userStr);\n    return currentUser;\n  }\n\n  return null;\n};\n","import React, { useState } from \"react\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport config from \"../config/config\";\n\nimport { login } from \"../services/auth.service\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\ninterface RouterProps {\n  history: string;\n}\n\ntype Props = RouteComponentProps<RouterProps>;\n\nconst Login: React.FC<Props> = ({ history }) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n\n  const initialValues: {\n    username: string;\n    password: string;\n  } = {\n    username: \"\",\n    password: \"\",\n  };\n\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().required(\"This field is required!\"),\n    password: Yup.string().required(\"This field is required!\"),\n  });\n\n  const handleLogin = (formValue: { username: string; password: string }) => {\n    const { username, password } = formValue;\n\n    setMessage(\"\");\n    setLoading(true);\n\n    console.log(\"username\", username);\n    console.log(\"password\", password);\n    console.log(\"api url\", config.WEBSITE_API);\n\n    login(username, password).then(\n      () => {\n        history.push(\"/dashboard\");\n        window.location.reload();\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setLoading(false);\n        setMessage(resMessage);\n      }\n    );\n  };\n\n  return (\n    <div className=\"col-md-12\">\n      <div className=\"card card-container\">\n        <img\n          src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n          alt=\"profile-img\"\n          className=\"profile-img-card\"\n        />\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={handleLogin}\n        >\n          <Form>\n            <div className=\"form-group\">\n              <label htmlFor=\"username\">Username</label>\n              <Field name=\"username\" type=\"text\" className=\"form-control\" />\n              <ErrorMessage\n                name=\"username\"\n                component=\"div\"\n                className=\"alert alert-danger\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <Field name=\"password\" type=\"password\" className=\"form-control\" />\n              <ErrorMessage\n                name=\"password\"\n                component=\"div\"\n                className=\"alert alert-danger\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary btn-block\"\n                disabled={loading}\n              >\n                {loading && (\n                  <span className=\"spinner-border spinner-border-sm\"></span>\n                )}\n                <span>Login</span>\n              </button>\n            </div>\n\n            {message && (\n              <div className=\"form-group\">\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {message}\n                </div>\n              </div>\n            )}\n          </Form>\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import axios from \"axios\";\nimport config from \"../config/config\";\n\nconst API_URL = config.WEBSITE_API;\n\n// TODO\n// Must authenticate using JWT\n\nexport const getWebsite = async () => {\n  return axios.get(API_URL + \"/api/website\");\n};\n\n// HOME\nexport const editHome = (fullName: string, descText: string) => {\n  return axios\n    .put(API_URL + \"/api/website/\" + config.WEBSITE_ID, {\n      name: fullName,\n      descText,\n    })\n    .then((response) => {\n      console.log(\"response\", response.data);\n\n      return response.data;\n    });\n};\n\n// ABOUT\nexport const editAbout = (aboutText: string, profileImage: string) => {\n  return axios\n    .put(API_URL + \"/api/website/\" + config.WEBSITE_ID, {\n      aboutText,\n      profileImage,\n    })\n    .then((response) => {\n      console.log(\"response\", response.data);\n\n      return response.data;\n    });\n};\n\n// PROJECTS\nexport const editProjects = (fullName: string, descText: string) => {\n  return axios\n    .put(API_URL + \"/api/website/\" + config.WEBSITE_ID, {\n      name: fullName,\n      descText,\n    })\n    .then((response) => {\n      console.log(\"response\", response.data);\n\n      return response.data;\n    });\n};\n","import React, { useState, useEffect } from \"react\";\n\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { editHome, getWebsite } from \"../services/editWebsite.service\";\n\nconst Home: React.FC<{}> = () => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n  const [initValues, setInitValues] = useState<{\n    name: string;\n    descText: string;\n  }>({\n    name: \"\",\n    descText: \"\",\n  });\n\n  const sendForm = (formValue: { name: string; descText: string }) => {\n    const { name, descText } = formValue;\n\n    console.log(\"sendForm\", name, descText);\n\n    setMessage(\"\");\n    setLoading(true);\n\n    editHome(name, descText).then(\n      () => {\n        // window.location.reload();\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setLoading(false);\n        setMessage(resMessage);\n      }\n    );\n  };\n\n  const validationSchema = Yup.object().shape({\n    name: Yup.string().required(\"This field is required!\"),\n    descText: Yup.string().required(\"This field is required!\"),\n  });\n\n  useEffect(() => {\n    const getInitValues = async () => {\n      const { data } = await getWebsite();\n\n      console.log(\"data\", data.name);\n      console.log(\"data\", data.descText);\n      setInitValues({\n        name: data.name,\n        descText: data.descText,\n      });\n    };\n\n    getInitValues();\n  }, []);\n\n  return (\n    <div className=\"wrapper\">\n      <nav id=\"sidebar\">\n        <div className=\"sidebar-header\">\n          <h3>Mickeylock.com</h3>\n        </div>\n\n        <ul className=\"list-unstyled components\">\n          <li className=\"active\">\n            <a href=\"/dashboard\">Dashboard</a>\n          </li>\n\n          <li>\n            <a href=\"/dashboard/home\">Home</a>\n          </li>\n          <li>\n            <a href=\"/dashboard/about\">About</a>\n          </li>\n          <li>\n            <a href=\"/dashboard/projects\">Projects</a>\n          </li>\n        </ul>\n      </nav>\n\n      <div id=\"content\">\n        <div className=\"container\">\n          <header className=\"jumbotron\">\n            <h3>Home Edit</h3>\n          </header>\n          <Formik\n            enableReinitialize\n            initialValues={initValues}\n            validationSchema={validationSchema}\n            onSubmit={sendForm}\n          >\n            <Form>\n              <div className=\"form-group\">\n                <label htmlFor=\"fullName\">Full name</label>\n                <Field name=\"name\" type=\"text\" className=\"form-control\" />\n                <ErrorMessage\n                  name=\"name\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"descText\">Description text</label>\n                <Field\n                  name=\"descText\"\n                  type=\"descText\"\n                  className=\"form-control\"\n                />\n                <ErrorMessage\n                  name=\"descText\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary btn-block\"\n                  disabled={loading}\n                >\n                  {loading && (\n                    <span className=\"spinner-border spinner-border-sm\"></span>\n                  )}\n                  <span>Save</span>\n                </button>\n              </div>\n\n              {message && (\n                <div className=\"form-group\">\n                  <div className=\"alert alert-danger\" role=\"alert\">\n                    {message}\n                  </div>\n                </div>\n              )}\n            </Form>\n          </Formik>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\n\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { editAbout, getWebsite } from \"../services/editWebsite.service\";\n\nconst About: React.FC<{}> = () => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n  const [initValues, setInitValues] = useState<{\n    aboutText: string;\n    profileImage: string;\n  }>({\n    aboutText: \"\",\n    profileImage: \"\",\n  });\n\n  const sendForm = (formValue: { aboutText: string; profileImage: string }) => {\n    const { aboutText, profileImage } = formValue;\n\n    console.log(\"sendForm\", aboutText, profileImage);\n\n    setMessage(\"\");\n    setLoading(true);\n\n    editAbout(aboutText, profileImage).then(\n      () => {\n        window.location.reload();\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setLoading(false);\n        setMessage(resMessage);\n      }\n    );\n  };\n\n  const validationSchema = Yup.object().shape({\n    aboutText: Yup.string().required(\"This field is required!\"),\n    profileImage: Yup.string().required(\"This field is required!\"),\n  });\n\n  useEffect(() => {\n    const getInitValues = async () => {\n      const { data } = await getWebsite();\n\n      console.log(\"data\", data.aboutText);\n      console.log(\"data\", data.profileImage);\n      setInitValues({\n        aboutText: data.aboutText,\n        profileImage: data.profileImage,\n      });\n    };\n\n    getInitValues();\n  }, []);\n\n  return (\n    <div className=\"wrapper\">\n      <nav id=\"sidebar\">\n        <div className=\"sidebar-header\">\n          <h3>Mickeylock.com</h3>\n        </div>\n\n        <ul className=\"list-unstyled components\">\n          <li className=\"active\">\n            <a href=\"/dashboard\">Dashboard</a>\n          </li>\n\n          <li>\n            <a href=\"/dashboard/home\">Home</a>\n          </li>\n          <li>\n            <a href=\"/dashboard/about\">About</a>\n          </li>\n          <li>\n            <a href=\"/dashboard/projects\">Projects</a>\n          </li>\n        </ul>\n      </nav>\n\n      <div id=\"content\">\n        <div className=\"container\">\n          <header className=\"jumbotron\">\n            <h3>About Edit</h3>\n          </header>\n          <Formik\n            enableReinitialize\n            initialValues={initValues}\n            validationSchema={validationSchema}\n            onSubmit={sendForm}\n          >\n            <Form>\n              <div className=\"form-group\">\n                <label htmlFor=\"aboutText\">About text</label>\n                <Field name=\"aboutText\" type=\"text\" className=\"form-control\" />\n                <ErrorMessage\n                  name=\"aboutText\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"profileImage\">Profile URL</label>\n                <Field\n                  name=\"profileImage\"\n                  type=\"profileImage\"\n                  className=\"form-control\"\n                />\n                <ErrorMessage\n                  name=\"profileImage\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary btn-block\"\n                  disabled={loading}\n                >\n                  {loading && (\n                    <span className=\"spinner-border spinner-border-sm\"></span>\n                  )}\n                  <span>Save</span>\n                </button>\n              </div>\n\n              {message && (\n                <div className=\"form-group\">\n                  <div className=\"alert alert-danger\" role=\"alert\">\n                    {message}\n                  </div>\n                </div>\n              )}\n            </Form>\n          </Formik>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default About;\n","import React, { useState } from \"react\";\n\nconst HomePage: React.FC = () => {\n  const [content, setContent] = useState<string>(\"\");\n\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        <h3>{content}</h3>\n      </header>\n    </div>\n  );\n};\n\nexport default HomePage;\n","import React from \"react\";\nimport { getCurrentUser } from \"../services/auth.service\";\n\nconst Dashboard: React.FC = () => {\n  const currentUser = getCurrentUser();\n\n  return (\n    <div className=\"wrapper\">\n      <nav id=\"sidebar\">\n        <div className=\"sidebar-header\">\n          <h3>Mickeylock.com</h3>\n        </div>\n\n        <ul className=\"list-unstyled components\">\n          <li className=\"active\">\n            <a href=\"/dashboard\">Dashboard</a>\n          </li>\n\n          <li>\n            <a href=\"/dashboard/home\">Home</a>\n          </li>\n          <li>\n            <a href=\"/dashboard/about\">About</a>\n          </li>\n          <li>\n            <a href=\"/dashboard/projects\">Projects</a>\n          </li>\n        </ul>\n      </nav>\n\n      <div id=\"content\">\n        <div className=\"container\">\n          <header className=\"jumbotron\">\n            <h3>\n              <strong>{currentUser?.user.fullName}</strong> Dashboard\n            </h3>\n          </header>\n          <p>\n            <strong>Token:</strong> {currentUser?.authToken.substring(0, 20)}{\" \"}\n            ...{\" \"}\n            {currentUser?.authToken.substr(currentUser.authToken.length - 20)}\n          </p>\n          <p>\n            <strong>Id:</strong> {currentUser?.user._id}\n          </p>\n          <p>{/* <strong>Email:</strong> {currentUser?.user.email} */}</p>\n          <strong>Authorities:</strong>\n          {/* <ul>\n        {currentUser.roles &&\n          currentUser.roles.map((role: string, index: number) => (\n            <li key={index}>{role}</li>\n          ))}\n      </ul> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","const eventBus = {\n  on(event: string, callback: EventListener) {\n    document.addEventListener(event, (e) => callback(e));\n  },\n  dispatch(event: string, data?: any) {\n    document.dispatchEvent(new CustomEvent(event, { detail: data }));\n  },\n  remove(event: string, callback: EventListener) {\n    document.removeEventListener(event, callback);\n  },\n};\n\nexport default eventBus;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nconst NotFound: React.FC = () => {\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        <h1>404 - Not Found!</h1>\n        <Link to=\"/\">Go Home</Link>\n      </header>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport * as AuthService from \"./services/auth.service\";\n\nimport Login from \"./components/Login\";\n// import Register from \"./components/Register\";\nimport HomeEdit from \"./components/HomeEdit\";\nimport AboutEdit from \"./components/AboutEdit\";\nimport HomePage from \"./components/HomePage\";\nimport Dashboard from \"./components/Dashboard\";\n\nimport EventBus from \"./common/EventBus\";\nimport ICurrentUser from \"./types/currentUser.type\";\nimport NotFound from \"./components/NotFound\";\n\nconst App: React.FC = () => {\n  const [showModeratorBoard, setShowModeratorBoard] = useState<boolean>(false);\n  const [showAdminBoard, setShowAdminBoard] = useState<boolean>(false);\n  const [currentUser, setCurrentUser] = useState<ICurrentUser | undefined>(\n    undefined\n  );\n\n  useEffect(() => {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      setCurrentUser(user);\n      // setShowModeratorBoard(user.roles.includes(\"ROLE_MODERATOR\"));\n      // setShowAdminBoard(user.roles.includes(\"ROLE_ADMIN\"));\n    }\n\n    EventBus.on(\"logout\", logOut);\n\n    return () => {\n      EventBus.remove(\"logout\", logOut);\n    };\n  }, []);\n\n  const logOut = () => {\n    AuthService.logout();\n    setShowModeratorBoard(false);\n    setShowAdminBoard(false);\n    setCurrentUser(undefined);\n  };\n\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n        <Link to={\"/\"} className=\"navbar-brand\">\n          Mickeylock.com\n        </Link>\n        <div className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <Link to={\"/home\"} className=\"nav-link\">\n              Home\n            </Link>\n          </li>\n\n          {showModeratorBoard && (\n            <li className=\"nav-item\">\n              <Link to={\"/mod\"} className=\"nav-link\">\n                Moderator Board\n              </Link>\n            </li>\n          )}\n\n          {showAdminBoard && (\n            <li className=\"nav-item\">\n              <Link to={\"/admin\"} className=\"nav-link\">\n                Admin Board\n              </Link>\n            </li>\n          )}\n\n          {currentUser && (\n            <li className=\"nav-item\">\n              <Link to={\"/user\"} className=\"nav-link\">\n                User\n              </Link>\n            </li>\n          )}\n        </div>\n\n        {currentUser ? (\n          <div className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/dashboard\"} className=\"nav-link\">\n                {currentUser?.user.fullName}\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <a href=\"/login\" className=\"nav-link\" onClick={logOut}>\n                LogOut\n              </a>\n            </li>\n          </div>\n        ) : (\n          <div className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/login\"} className=\"nav-link\">\n                Login\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link to={\"/register\"} className=\"nav-link\">\n                Sign Up\n              </Link>\n            </li>\n          </div>\n        )}\n      </nav>\n\n      {/*\n       TODO \n        1. Login and get authToken\n      \n      */}\n\n      <div className=\"container mt-3\">\n        <Switch>\n          <Route exact path={[\"/\", \"/home\"]} component={HomePage} />\n          <Route exact path=\"/login\" component={Login} />\n\n          {/* <Route exact path=\"/register\" component={Register} /> */}\n          <Route exact path=\"/dashboard\" component={Dashboard} />\n          <Route exact path=\"/dashboard/home\" component={HomeEdit} />\n          <Route exact path=\"/dashboard/about\" component={AboutEdit} />\n          <Route component={NotFound} />\n\n          {/* <Route exact path=\"/dashboard/projects\" component={Projects} /> */}\n          {/* <Route path=\"/user\" component={BoardUser} /> */}\n          {/* <Route path=\"/mod\" component={BoardModerator} /> */}\n          {/* <Route path=\"/admin\" component={BoardAdmin} />  */}\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}